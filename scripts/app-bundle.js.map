{"version":3,"sources":["src/app.ts","src/environment.ts","src/main.ts","src/sprites.ts","src/resources/index.ts"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {RouterConfiguration} from 'aurelia-router';\nimport \"packer.growing\";\n\nexport class App {\n    configureRouter(config: RouterConfiguration) {\n        config.title = 'SpriteCSS';\n        config.map([\n            {route: \"\", moduleId: \"sprites\", name: \"sprites\"}\n        ]);\n    }\n}\n","export default {\n  debug: false,\n  testing: false\n};\n","import {Aurelia} from 'aurelia-framework'\nimport environment from './environment';\n\nexport function configure(aurelia: Aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {autoinject, TaskQueue} from 'aurelia-framework';\nimport \"packer.growing\";\n\ndeclare var GrowingPacker;\n\nimport * as SVG from \"svg.js\";\n\n@autoinject\nexport class Sprites {\n    private claseBase = \"sprite\";\n    private nombreArchivo: string;\n    private prefijo = \"sprite-\";\n    private archivos: FileList;\n    private cssGenerado: string;\n    private ejemplo = \"\";\n    private taskqeue: TaskQueue;\n    private packer;\n    private imagenes: any[];\n    constructor(taskqeue: TaskQueue) {\n        this.taskqeue = taskqeue;\n    }\n    procesar(): void {\n        if (this.claseBase === null || this.claseBase.trim().length === 0) {\n            console.log(\"Clase base no definida\");\n            return;\n        } else if (this.archivos === undefined || this.archivos.length <= 0) {\n            console.log(\"Imagenes requeridas\");\n            return;\n        }\n        this.nombreArchivo = this.claseBase;\n        this.cargarImagenes(this.archivos).then(imagenes => {\n            this.imagenes = imagenes;\n            this.packer = new GrowingPacker();\n            this.packer.fit(imagenes);\n            this.dibujarImagenes();\n            this.cssGenerado = this.generarCss(imagenes);\n            this.ejemplo = \"&lt;span class=&quot;\" + this.claseBase + \" \" + this.prefijo + imagenes[0].name + \"&quot;&gt;&lt;&#x2F;span&gt;\";\n            this.taskqeue.queueMicroTask(() => {\n                document.getElementById(\"divGenerado\").scrollIntoView({behavior: \"smooth\", block: \"start\"});\n            });\n        })\n    }\n    generarCss(imagenes): string {\n        imagenes.sort((a, b) => {\n            var an = a.name.toLowerCase();\n            var bn = b.name.toLowerCase();\n            if (an > bn) {\n                return 1;\n            } else if (an < bn) {\n                return -1;\n            } else {\n                return 0;\n            }\n        });\n        var width = this.packer.root.w, height = this.packer.root.h;\n        var css = \"\";\n        var reglaBase = \".\".concat(this.claseBase, \" { width: 100%; height: auto; display: inline-block; background-size: 0%; background-image: url(\", this.claseBase, \".png);}\\n\");\n        css += reglaBase;\n        var ajuste = \"svg.\".concat(this.claseBase, \".vertical, img.\", this.claseBase, \".vertical{ height: 100%!important; width: auto!important; padding-top: 0!important;}\\n\");\n        css += ajuste;\n        imagenes.forEach(imagen => {\n            if (imagen.fit) {\n                var nombre = imagen.name;\n                var posX = this.porcentage(imagen.fit.x, width, imagen.w);\n                var posY = this.porcentage(imagen.fit.y, height, imagen.h);\n                var sizeX = width / imagen.w * 100;\n                var sizeY = height / imagen.h * 100;\n                var aspectRatio = imagen.height / imagen.width * 100;\n                var regla = \".\".concat(this.claseBase, \".\", this.prefijo, nombre, \" { padding-top: \", aspectRatio.toString(), \"%; background-position: \", posX.toString(), \"% \", posY.toString(), \"%; background-size: \", sizeX.toString(), \"% \", sizeY.toString(), \"%;}\\n\");\n                css += regla;\n            }\n        });\n        return css;\n    }\n    copiarTexto(): void {\n        if (this.cssGenerado === null) {\n            console.log(\"No hay texto generado\");\n            return;\n        }\n        var t = <HTMLTextAreaElement> document.createElement(\"textarea\");\n        t.style.position = 'fixed';\n        t.style.top = \"0\";\n        t.style.left = \"0\";\n        t.style.width = '2em';\n        t.style.height = '2em';\n        t.style.padding = \"0\";\n        t.style.border = 'none';\n        t.style.outline = 'none';\n        t.style.boxShadow = 'none';\n        t.style.background = 'transparent';\n        t.value = this.cssGenerado;\n\n        document.body.appendChild(t);\n        t.select();\n        try {\n            document.execCommand((\"Copy\"));\n        } catch (err) {\n            console.log(\"Copia no permitida\");\n        }\n        document.body.removeChild(t);\n    }\n    descargarSpriteSheet() {\n        if (this.packer == null || this.imagenes === null) {\n            console.log(\"Packer no generado o sin imagenes\");\n            return;\n        }\n        if (this.nombreArchivo === null) {\n            this.nombreArchivo = \"png\";\n        }\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = this.packer.root.w;\n        canvas.height = this.packer.root.h;\n        var ctx = canvas.getContext(\"2d\");\n        for (var i = 0; i < this.imagenes.length; i++) {\n            var imagen = this.imagenes[i];\n            if (imagen.fit) {\n                ctx.drawImage(imagen, imagen.fit.x, imagen.fit.y);\n            }\n        }\n        var a = document.createElement(\"a\");\n        a.setAttribute(\"href\", canvas.toDataURL(\"image/png\"));\n        a.setAttribute(\"download\", this.nombreArchivo + \".png\");\n        a.style.display = \"none\";\n        document.body.appendChild(a);\n        console.log(a);\n        a.click();\n        document.body.removeChild(a);\n    }\n    descargarTexto(): void {\n        if (this.cssGenerado === null) {\n            console.log(\"No hay texto generado\");\n            return;\n        }\n        var a = document.createElement(\"a\");\n        a.setAttribute(\"href\", \"data:text/plain;charset=utf-8,\" + encodeURIComponent(this.cssGenerado));\n        a.setAttribute(\"download\", \"sprites.css\");\n        a.style.display = \"none\";\n        document.body.appendChild(a);\n        console.log(a);\n        a.click();\n        document.body.removeChild(a);\n    }\n    private porcentage(posicion: number, dimensionContenedor: number, dimensionImagen: number): number {\n        var diferencia = dimensionContenedor - dimensionImagen;\n        if (diferencia === 0) {\n            return 0;\n        }\n        return posicion / diferencia * 100;\n    }\n    private cargarImagenes(archivos: FileList): Promise<HTMLImageElement[]> {\n        var promesas = [];\n        for (var i = 0; i < archivos.length; i++) {\n            promesas.push(this.cargarImagen(archivos.item(i)));\n        }\n        return Promise.all(promesas);\n    }\n    private cargarImagen(archivo: File): Promise<HTMLImageElement> {\n        return new Promise(function (resolve, reject) {\n            var imagen = new Image();\n            var reader = new FileReader();\n            reader.onload = () => {\n                imagen.src = reader.result;\n            }\n            imagen.onload = () => {\n                imagen.name = archivo.name.split(\".\")[0]; //TODO: reemplazar espacios y caracteres especiales\n                resolve(imagen);\n            }\n            imagen.onerror = error => {\n                reject(\"Problema al crear imagen \" + archivo.name + \"\\n. Error es: \" + JSON.stringify(error));\n            };\n            reader.onerror = error => {\n                reject(\"Problema al leer archivo \" + archivo.name + \"\\n. Error es: \" + JSON.stringify(error));\n            };\n            reader.readAsDataURL(archivo);\n        });\n    }\n    private colorAleatorio(opacidad?: number): string {\n        var opacidadHex = \"ff\";\n        if (opacidad && opacidad <= 1 && opacidad >= 0) {\n            opacidadHex = Math.floor(opacidad * 256).toString(16);\n            if (opacidadHex.length < 2) {\n                opacidadHex = \"00\".substr(0, 2 - opacidadHex.length) + opacidadHex;\n            }\n        }\n        var colorHex = Math.floor(Math.random() * 16777215).toString(16);\n        if (colorHex.length < 6) {\n            colorHex = \"000000\".substr(0, 6 - colorHex.length) + colorHex;\n        }\n        return \"#\".concat(colorHex).concat(opacidadHex);\n    }\n    private dibujarImagenes() {\n        if (this.archivos === undefined || this.archivos.length <= 0) {\n            console.log(\"Imagenes requeridas\");\n            return;\n        }\n        var areaDibujo = document.getElementById(\"dibujo\");\n        areaDibujo.innerText = \"\";\n\n        var dibujo = SVG(areaDibujo).size(this.packer.root.w, this.packer.root.h);\n        dibujo.viewbox(0, 0, this.packer.root.w, this.packer.root.h);\n        dibujo.addClass(\"img-responsive\");\n        dibujo.addClass(\"center-block\");\n        var mouseover = function () {\n            this.fill({opacity: 1});\n        }\n        var mouseout = function () {\n            this.fill({opacity: .1});\n        }\n        for (var i = 0; i < this.imagenes.length; i++) {\n            var imagen = this.imagenes[i];\n            if (imagen.fit) {\n                var rec = dibujo.rect(imagen.width, imagen.height).move(imagen.fit.x, imagen.fit.y).fill({color: this.colorAleatorio(), opacity: .1}).stroke(\"#000000\");\n                dibujo.image(imagen.src).move(imagen.fit.x, imagen.fit.y).style(\"pointer-events\", \"none\");\n                rec.on(\"mouseover\", mouseover);\n                rec.on(\"mouseout\", mouseout);\n                dibujo.plain((i + 1).toString()).move(imagen.fit.x, imagen.fit.y).font({size: 24, family: \"Georgia\"}).fill(\"#000000\");\n            }\n        }\n    }\n}","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  //config.globalResources([]);\n}\n"],"sourceRoot":".."}